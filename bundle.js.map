{"version":3,"sources":["webpack:///webpack/bootstrap ce82294a88475722e6c1","webpack:///./lib/firebase.js","webpack:///./lib/main.js","webpack:///./lib/game.js","webpack:///./lib/board.js","webpack:///./lib/pew.js"],"names":["newHighScore","score","database","ref","set","highScore","getScore","game","once","then","res","val","document","addEventListener","canvas","getElementById","ctx","getContext","scoreElement","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firebase","initializeApp","start","className","playing","board","dropPew","replay","gameOver","reset","easy","style","color","medium","hard","textContent","speed","fallingPew","Game","paused","callFall","row","checkBoard","length","col","grid","clearPos","currentPos","toClear","search","destroy","checkSettle","resetCheckBoard","searchAndDestroy","currentSpot","push","forEach","pos","settle","Board","Array","COLORS","x","y","pews","slice","move","bind","clearRect","width","height","every","el","finalScore","over","setHighScore","createPew","beginPath","arc","Math","PI","fillStyle","fill","e","keyCode","moveRight","moveLeft","switchColors","moveDown","rotate","pause","Pew","row1","col1","floor","random","row2","col2","stopped","noSwitch","horizontal","setTimeout","fall","posFilled","singleFall","posEmpty","moveDownVertical","rowNum","draw","moveRightHorizontal","moveRightVertical","moveLeftHorizontal","moveLeftVertical","hold","moveDownHorizontal","dx","dy"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;AC7DO,IAAMA,sCAAe,SAAfA,YAAe,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAC/CA,WAASC,GAAT,GAAeC,GAAf,CAAmB,EAAEC,WAAWJ,KAAb,EAAnB;AACD,CAFM;;AAIA,IAAMK,8BAAW,SAAXA,QAAW,CAACJ,QAAD,EAAWK,IAAX,EAAoB;AAC1CL,WAASC,GAAT,GAAeK,IAAf,CAAoB,OAApB,EAA6BC,IAA7B,CAAkC,UAACC,GAAD,EAAS;AACzC,QAAML,YAAYK,IAAIC,GAAJ,GAAUN,SAA5B;AACAE,SAAKF,SAAL,GAAiBA,SAAjB;AACD,GAHD;AAID,CALM,C;;;;;;;;;ACJP;;;;AACA;;;;AAEAO,SAASC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClD,MAAMC,SAASF,SAASG,cAAT,CAAwB,OAAxB,CAAf;AACA,MAAMC,MAAMF,OAAOG,UAAP,CAAkB,IAAlB,CAAZ;AACA,MAAMC,eAAeN,SAASG,cAAT,CAAwB,OAAxB,CAArB;;AAEA,MAAII,SAAS;AACXC,YAAQ,yCADG;AAEXC,gBAAY,+BAFD;AAGXC,iBAAa,sCAHF;AAIXC,eAAW,eAJA;AAKXC,mBAAe,EALJ;AAMXC,uBAAmB;AANR,GAAb;AAQAC,WAASC,aAAT,CAAuBR,MAAvB;AACA,MAAMjB,WAAWwB,SAASxB,QAAT,EAAjB;;AAEA,MAAIK,OAAO,mBAASO,MAAT,EAAiBE,GAAjB,EAAsBd,QAAtB,CAAX;;AAEA,MAAM0B,QAAQhB,SAASG,cAAT,CAAwB,OAAxB,CAAd;AACAa,QAAMf,gBAAN,CAAuB,OAAvB,EAAgC,YAAM;AACpCe,UAAMC,SAAN,GAAkB,QAAlB;AACAtB,SAAKuB,OAAL,GAAe,IAAf;AACAvB,SAAKwB,KAAL,CAAWC,OAAX;AACD,GAJD;AAKA,MAAMC,SAASrB,SAASG,cAAT,CAAwB,QAAxB,CAAf;AACA,MAAMmB,WAAWtB,SAASG,cAAT,CAAwB,WAAxB,CAAjB;AACAkB,SAAOpB,gBAAP,CAAwB,OAAxB,EAAiC,YAAM;AACrCN,SAAKwB,KAAL,CAAWI,KAAX;AACA5B,WAAO,mBAASO,MAAT,EAAiBE,GAAjB,CAAP;AACAkB,aAASL,SAAT,GAAqB,QAArB;AACAtB,SAAKuB,OAAL,GAAe,IAAf;AACAvB,SAAKwB,KAAL,CAAWC,OAAX;AACAI,SAAKC,KAAL,CAAWC,KAAX,GAAmB,SAAnB;AACAC,WAAOF,KAAP,CAAaC,KAAb,GAAqB,OAArB;AACAE,SAAKH,KAAL,CAAWC,KAAX,GAAmB,OAAnB;AACA1B,aAASG,cAAT,CAAwB,OAAxB,EAAiC0B,WAAjC;AACD,GAVD;;AAYA,MAAML,OAAOxB,SAASG,cAAT,CAAwB,MAAxB,CAAb;AACA,MAAMwB,SAAS3B,SAASG,cAAT,CAAwB,QAAxB,CAAf;AACA,MAAMyB,OAAO5B,SAASG,cAAT,CAAwB,MAAxB,CAAb;AACAqB,OAAKvB,gBAAL,CAAsB,OAAtB,EAA+B,YAAM;AACnCN,SAAKwB,KAAL,CAAWW,KAAX,GAAmB,GAAnB;AACA,QAAInC,KAAKwB,KAAL,CAAWY,UAAf,EAA2B;AACzBpC,WAAKwB,KAAL,CAAWY,UAAX,CAAsBD,KAAtB,GAA8B,GAA9B;AACD;AACDN,SAAKC,KAAL,CAAWC,KAAX,GAAmB,SAAnB;AACAC,WAAOF,KAAP,CAAaC,KAAb,GAAqB,OAArB;AACAE,SAAKH,KAAL,CAAWC,KAAX,GAAmB,OAAnB;AACD,GARD;AASAC,SAAO1B,gBAAP,CAAwB,OAAxB,EAAiC,YAAM;AACrCN,SAAKwB,KAAL,CAAWW,KAAX,GAAmB,GAAnB;AACA,QAAInC,KAAKwB,KAAL,CAAWY,UAAf,EAA2B;AACzBpC,WAAKwB,KAAL,CAAWY,UAAX,CAAsBD,KAAtB,GAA8B,GAA9B;AACD;AACDH,WAAOF,KAAP,CAAaC,KAAb,GAAqB,QAArB;AACAF,SAAKC,KAAL,CAAWC,KAAX,GAAmB,OAAnB;AACAE,SAAKH,KAAL,CAAWC,KAAX,GAAmB,OAAnB;AACD,GARD;AASAE,OAAK3B,gBAAL,CAAsB,OAAtB,EAA+B,YAAM;AACnCN,SAAKwB,KAAL,CAAWW,KAAX,GAAmB,GAAnB;AACA,QAAInC,KAAKwB,KAAL,CAAWY,UAAf,EAA2B;AACzBpC,WAAKwB,KAAL,CAAWY,UAAX,CAAsBD,KAAtB,GAA8B,GAA9B;AACD;AACDF,SAAKH,KAAL,CAAWC,KAAX,GAAmB,MAAnB;AACAF,SAAKC,KAAL,CAAWC,KAAX,GAAmB,OAAnB;AACAC,WAAOF,KAAP,CAAaC,KAAb,GAAqB,OAArB;AACD,GARD;AASD,CApED,E;;;;;;;;;;;;;;;ACHA;;;;AACA;;;;;;IAEMM,I;AACJ,gBAAY9B,MAAZ,EAAoBE,GAApB,EAAyBd,QAAzB,EAAmC;AAAA;;AACjC,SAAKY,MAAL,GAAcA,MAAd;AACA,SAAKE,GAAL,GAAWA,GAAX;AACA,SAAKe,KAAL,GAAa,oBAAU,IAAV,EAAgBjB,MAAhB,EAAwBE,GAAxB,CAAb;AACA,SAAKc,OAAL,GAAe,KAAf;AACA,SAAK5B,QAAL,GAAgBA,QAAhB;AACA,SAAKD,KAAL,GAAa,CAAb;AACA,4BAAS,KAAKC,QAAd,EAAwB,IAAxB;AACD;;;;4BAEO;AACN,WAAK4B,OAAL,GAAe,CAAC,KAAKA,OAArB;AACA,UAAMe,SAASjC,SAASG,cAAT,CAAwB,QAAxB,CAAf;AACA8B,aAAOhB,SAAP,GAAmBgB,OAAOhB,SAAP,KAAqB,SAArB,GAAiC,QAAjC,GAA4C,SAA/D;AACA,UAAI,KAAKC,OAAT,EAAkB;AAChB,aAAKC,KAAL,CAAWY,UAAX,CAAsBG,QAAtB;AACD;AACF;;;sCAEiB;AAChB,WAAK,IAAIC,MAAM,CAAf,EAAkBA,MAAM,KAAKhB,KAAL,CAAWiB,UAAX,CAAsBC,MAA9C,EAAsDF,KAAtD,EAA6D;AAC3D,aAAK,IAAIG,MAAM,CAAf,EAAkBA,MAAM,KAAKnB,KAAL,CAAWiB,UAAX,CAAsBD,GAAtB,EAA2BE,MAAnD,EAA2DC,KAA3D,EAAkE;AAChE,eAAKnB,KAAL,CAAWiB,UAAX,CAAsBD,GAAtB,EAA2BG,GAA3B,IAAkC,KAAlC;AACD;AACF;AACF;;;qCAEgBC,I,EAAMH,U,EAAY;AACjC,UAAII,WAAW,EAAf;;AAEA,WAAK,IAAIL,MAAM,CAAf,EAAkBA,MAAMI,KAAKF,MAA7B,EAAqCF,KAArC,EAA4C;AAC1C,aAAK,IAAIG,MAAM,CAAf,EAAkBA,MAAMC,KAAKJ,GAAL,EAAUE,MAAlC,EAA0CC,KAA1C,EAAiD;AAC/C,cAAIC,KAAKJ,GAAL,EAAUG,GAAV,MAAmB,CAAvB,EAA0B;AACxBF,uBAAWD,GAAX,EAAgBG,GAAhB,IAAuB,IAAvB;AACA,gBAAIG,aAAa,CAAC,CAACN,GAAD,EAAKG,GAAL,CAAD,CAAjB;AACA,gBAAII,UAAU,KAAKC,MAAL,CAAYJ,IAAZ,EAAkBH,UAAlB,EAA8BD,GAA9B,EAAmCG,GAAnC,EAAwCG,UAAxC,CAAd;AACA,gBAAIC,QAAQL,MAAR,IAAkB,CAAtB,EAAyB;AACvB,mBAAKO,OAAL,CAAaF,OAAb;AACA,mBAAKG,WAAL;AACA,mBAAKC,eAAL;AACA,mBAAKC,gBAAL,CAAsBR,IAAtB,EAA4BH,UAA5B;AACD,aALD,MAKO;AACL,mBAAKU,eAAL;AACD;AACF;AACF;AACF;AACF;;;2BACMP,I,EAAMH,U,EAAYD,G,EAAKG,G,EAAKE,Q,EAAU;AAC3C,UAAIQ,cAAcT,KAAKJ,GAAL,EAAUG,GAAV,CAAlB;AACA,UAAIA,MAAM,CAAN,IAAWC,KAAKJ,GAAL,EAAUG,MAAM,CAAhB,MAAuBU,WAAlC,IAAiD,CAACZ,WAAWD,GAAX,EAAgBG,MAAM,CAAtB,CAAtD,EAAgF;AAC9EE,iBAASS,IAAT,CAAc,CAACd,GAAD,EAAMG,MAAM,CAAZ,CAAd;AACAF,mBAAWD,GAAX,EAAgBG,MAAM,CAAtB,IAA2B,IAA3B;AACA,aAAKK,MAAL,CAAYJ,IAAZ,EAAkBH,UAAlB,EAA8BD,GAA9B,EAAmCG,MAAK,CAAxC,EAA2CE,QAA3C;AACD;AACD,UAAIF,MAAM,CAAN,IAAWC,KAAKJ,GAAL,EAAUG,MAAM,CAAhB,MAAuBU,WAAlC,IAAiD,CAACZ,WAAWD,GAAX,EAAgBG,MAAM,CAAtB,CAAtD,EAAgF;AAC9EE,iBAASS,IAAT,CAAc,CAACd,GAAD,EAAMG,MAAM,CAAZ,CAAd;AACAF,mBAAWD,GAAX,EAAgBG,MAAM,CAAtB,IAA2B,IAA3B;AACA,aAAKK,MAAL,CAAYJ,IAAZ,EAAkBH,UAAlB,EAA8BD,GAA9B,EAAmCG,MAAM,CAAzC,EAA4CE,QAA5C;AACD;AACD,UAAIL,MAAM,CAAN,IAAWI,KAAKJ,MAAM,CAAX,EAAcG,GAAd,MAAuBU,WAAlC,IAAiD,CAACZ,WAAWD,MAAM,CAAjB,EAAoBG,GAApB,CAAtD,EAAgF;AAC9EE,iBAASS,IAAT,CAAc,CAACd,MAAM,CAAP,EAAUG,GAAV,CAAd;AACAF,mBAAWD,MAAM,CAAjB,EAAoBG,GAApB,IAA2B,IAA3B;AACA,aAAKK,MAAL,CAAYJ,IAAZ,EAAkBH,UAAlB,EAA8BD,MAAM,CAApC,EAAuCG,GAAvC,EAA4CE,QAA5C;AACD;AACD,UAAIL,MAAM,EAAN,IAAYI,KAAKJ,MAAM,CAAX,EAAcG,GAAd,MAAuBU,WAAnC,IAAkD,CAACZ,WAAWD,MAAM,CAAjB,EAAoBG,GAApB,CAAvD,EAAiF;AAC/EE,iBAASS,IAAT,CAAc,CAACd,MAAM,CAAP,EAAUG,GAAV,CAAd;AACAF,mBAAWD,MAAM,CAAjB,EAAoBG,GAApB,IAA2B,IAA3B;AACA,aAAKK,MAAL,CAAYJ,IAAZ,EAAkBH,UAAlB,EAA8BD,MAAM,CAApC,EAAuCG,GAAvC,EAA4CE,QAA5C;AACD;;AAED,aAAOA,QAAP;AACD;;;4BACOE,O,EAAS;AAAA;;AACf,WAAKrD,KAAL,IAAcqD,QAAQL,MAAR,GAAiB,GAA/B;AACA,UAAMhD,QAAQW,SAASG,cAAT,CAAwB,OAAxB,CAAd;AACAd,YAAMwC,WAAN,eAA8B,KAAKxC,KAAnC;AACA,UAAI,KAAKA,KAAL,IAAc,KAAKI,SAAvB,EAAkC;AAChC,YAAMA,YAAYO,SAASG,cAAT,CAAwB,YAAxB,CAAlB;AACA,oCAAa,KAAKd,KAAlB,EAAyB,KAAKC,QAA9B;AACA,aAAKG,SAAL,GAAiB,KAAKJ,KAAtB;AACAI,kBAAUoC,WAAV,oBAAuC,KAAKpC,SAA5C;AACD;AACDiD,cAAQQ,OAAR,CAAgB,UAACC,GAAD,EAAS;AACvB,cAAKhC,KAAL,CAAWoB,IAAX,CAAgBY,IAAI,CAAJ,CAAhB,EAAwBA,IAAI,CAAJ,CAAxB,IAAkC,CAAlC;AACD,OAFD;AAGD;;;kCACa;AACZ,WAAK,IAAIhB,MAAM,EAAf,EAAmBA,OAAO,CAA1B,EAA6BA,KAA7B,EAAoC;AAClC,aAAK,IAAIG,MAAM,CAAf,EAAkBA,OAAO,CAAzB,EAA4BA,KAA5B,EAAmC;AACjC,cAAI,KAAKnB,KAAL,CAAWoB,IAAX,CAAgBJ,GAAhB,EAAqBG,GAArB,MAA8B,CAA9B,IAAmC,KAAKnB,KAAL,CAAWoB,IAAX,CAAgBJ,MAAM,CAAtB,EAAyBG,GAAzB,MAAkC,CAAzE,EAA4E;AAC1E,iBAAKc,MAAL,CAAYjB,GAAZ,EAAiBG,GAAjB;AACD;AACF;AACF;AACF;;;2BACMH,G,EAAKG,G,EAAK;AACf,aAAOH,MAAM,EAAN,IAAY,KAAKhB,KAAL,CAAWoB,IAAX,CAAgBJ,MAAM,CAAtB,EAAyBG,GAAzB,MAAkC,CAArD,EAAwD;AACtD,aAAKnB,KAAL,CAAWoB,IAAX,CAAgBJ,MAAM,CAAtB,EAAyBG,GAAzB,IAAgC,KAAKnB,KAAL,CAAWoB,IAAX,CAAgBJ,GAAhB,EAAqBG,GAArB,CAAhC;AACA,aAAKnB,KAAL,CAAWoB,IAAX,CAAgBJ,GAAhB,EAAqBG,GAArB,IAA4B,CAA5B;AACAH;AACD;AACF;;;;;;kBAGYH,I;;;;;;;;;;;;;;;AC7Gf;;;;AACA;;;;;;IAEMqB,K;AACJ,iBAAY1D,IAAZ,EAAkBO,MAAlB,EAA0BE,GAA1B,EAA+B;AAAA;;AAC7B,SAAKT,IAAL,GAAYA,IAAZ;AACA,SAAKO,MAAL,GAAcA,MAAd;AACA,SAAKE,GAAL,GAAWA,GAAX;AACA,SAAKmC,IAAL,GAAY,IAAIe,KAAJ,EAAZ;AACA,SAAKlB,UAAL,GAAkB,IAAIkB,KAAJ,EAAlB;AACA,SAAKC,MAAL,GAAc,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,CAAd;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAC3B,WAAKjB,IAAL,CAAUiB,CAAV,IAAe,IAAIF,KAAJ,EAAf;AACA,WAAKlB,UAAL,CAAgBoB,CAAhB,IAAqB,IAAIF,KAAJ,EAArB;AACA,WAAK,IAAIG,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAC3B,aAAKlB,IAAL,CAAUiB,CAAV,EAAaC,CAAb,IAAkB,CAAlB;AACA,aAAKrB,UAAL,CAAgBoB,CAAhB,EAAmBC,CAAnB,IAAwB,KAAxB;AACD;AACF;AACD,SAAKC,IAAL,GAAY,EAAZ,CAf6B,CAeb;AAChB,SAAK3B,UAAL,GAAkB,KAAK2B,IAAL,CAAUC,KAAV,CAAgB,CAAC,CAAjB,EAAoB,CAApB,CAAlB;AACA,SAAKC,IAAL,GAAY,KAAKA,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAZ;AACA,SAAKvC,QAAL,GAAgB,KAAhB;AACA,SAAKQ,KAAL,GAAa,GAAb;AACD;;;;4BAEO;AACN,WAAK1B,GAAL,CAAS0D,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAA0B,KAAK5D,MAAL,CAAY6D,KAAtC,EAA6C,KAAK7D,MAAL,CAAY8D,MAAzD;AACD;;;2BACM;AACL,UAAI,CAAC,KAAKzB,IAAL,CAAU,CAAV,EAAa0B,KAAb,CAAmB;AAAA,eAAMC,OAAO,CAAb;AAAA,OAAnB,CAAL,EAAyC;AACvC,aAAK5C,QAAL,GAAgB,IAAhB;AACA,YAAMA,WAAWtB,SAASG,cAAT,CAAwB,WAAxB,CAAjB;AACA,YAAMgE,aAAanE,SAASG,cAAT,CAAwB,aAAxB,CAAnB;AACAgE,mBAAWtC,WAAX,eAAmC,KAAKlC,IAAL,CAAUN,KAA7C;AACD;AACF;;;mCACc;AACb,UAAMI,YAAYO,SAASG,cAAT,CAAwB,YAAxB,CAAlB;AACA,8BAAS,KAAKR,IAAL,CAAUL,QAAnB,EAA6B,KAAKK,IAAlC;AACAF,gBAAUoC,WAAV,oBAAuC,KAAKlC,IAAL,CAAUF,SAAjD;AACD;;;8BACS;AACR,WAAK2E,IAAL;AACA,WAAKC,YAAL;AACA,UAAI,CAAC,KAAK/C,QAAV,EAAoB;AAClB,aAAK3B,IAAL,CAAUoD,gBAAV,CAA2B,KAAKR,IAAhC,EAAsC,KAAKH,UAA3C;AACApC,iBAASC,gBAAT,CAA0B,SAA1B,EAAqC,KAAK2D,IAA1C;AACA,aAAKU,SAAL;AACA,aAAKvC,UAAL,GAAkB,KAAK2B,IAAL,CAAUC,KAAV,CAAgB,CAAC,CAAjB,EAAoB,CAApB,CAAlB;AACA,aAAK5B,UAAL,CAAgBG,QAAhB;AACD;AACF;;;gCACW;AACV,WAAKwB,IAAL,CAAUT,IAAV,CAAe,kBAAQ,IAAR,EAAc,KAAKnB,KAAnB,CAAf;AACD;;;2BAEM;AACL,WAAKP,KAAL;AACA,WAAK,IAAIY,MAAM,CAAf,EAAkBA,MAAM,KAAKI,IAAL,CAAUF,MAAlC,EAA0CF,KAA1C,EAAiD;AAC/C,aAAK,IAAIG,MAAM,CAAf,EAAkBA,MAAM,KAAKC,IAAL,CAAUJ,GAAV,EAAeE,MAAvC,EAA+CC,KAA/C,EAAsD;AACpD,cAAI,KAAKC,IAAL,CAAUJ,GAAV,EAAeG,GAAf,MAAwB,CAA5B,EAA+B;AAC7B,iBAAKlC,GAAL,CAASmE,SAAT;AACA,iBAAKnE,GAAL,CAASoE,GAAT,CAAe,CAAClC,MAAM,CAAP,IAAY,EAAb,GAAmB,EAAjC,EAAwC,CAACH,MAAM,CAAP,IAAY,EAAb,GAAmB,EAA1D,EAA+D,EAA/D,EAAmE,CAAnE,EAAsE,IAAIsC,KAAKC,EAA/E;AACA,iBAAKtE,GAAL,CAASuE,SAAT,GAAqB,KAAKpB,MAAL,CAAY,KAAKhB,IAAL,CAAUJ,GAAV,EAAeG,GAAf,IAAsB,CAAlC,CAArB;AACA,iBAAKlC,GAAL,CAASwE,IAAT;AACD;AACF;AACF;AACF;;;yBACIC,C,EAAG;AACN,cAAQA,EAAEC,OAAV;AACE,aAAK,EAAL;AAAS;AACP,eAAK/C,UAAL,CAAgBgD,SAAhB,CAA0B,KAAKxC,IAA/B;AACA;AACF,aAAK,EAAL;AAAS;AACP,eAAKR,UAAL,CAAgBiD,QAAhB,CAAyB,KAAKzC,IAA9B;AACA;AACF,aAAK,EAAL;AAAS;AACP,eAAKR,UAAL,CAAgBkD,YAAhB,CAA6B,KAAK1C,IAAlC;AACA;AACF,aAAK,EAAL;AAAS;AACP,eAAKR,UAAL,CAAgBmD,QAAhB,CAAyB,KAAK3C,IAA9B;AACA;AACF,aAAK,EAAL;AAAS;AACP,eAAKR,UAAL,CAAgBoD,MAAhB,CAAuB,KAAK5C,IAA5B;AACA;AACF,aAAK,EAAL;AACE,eAAK5C,IAAL,CAAUyF,KAAV;AACA;AACF;AACE;AApBJ;AAsBD;;;;;;kBAIY/B,K;;;;;;;;;;;;;;;;;ICjGTgC,G;AACJ,eAAYlE,KAAZ,EAAmBW,KAAnB,EAA0B;AAAA;;AACxB,SAAKX,KAAL,GAAaA,KAAb;AACA,SAAKmE,IAAL,GAAY,CAAZ;AACA,SAAKC,IAAL,GAAYd,KAAKe,KAAL,CAAWf,KAAKgB,MAAL,KAAgB,CAA3B,CAAZ;AACA,SAAKC,IAAL,GAAY,CAAZ;AACA,SAAKC,IAAL,GAAY,KAAKJ,IAAL,GAAY,CAAxB;AACA,SAAKpE,KAAL,CAAWoB,IAAX,CAAgB,KAAK+C,IAArB,EAA2B,KAAKC,IAAhC,IAAwCd,KAAKe,KAAL,CAAWf,KAAKgB,MAAL,KAAgB,CAA3B,IAAgC,CAAxE;AACA,SAAKtE,KAAL,CAAWoB,IAAX,CAAgB,KAAKmD,IAArB,EAA2B,KAAKC,IAAhC,IAAwClB,KAAKe,KAAL,CAAWf,KAAKgB,MAAL,KAAgB,CAA3B,IAAgC,CAAxE;AACA,SAAKG,OAAL,GAAe,KAAf;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKhE,KAAL,GAAaA,KAAb;AACD;;;;8BAESK,G,EAAKG,G,EAAK;AAClB,aAAO,KAAKnB,KAAL,CAAWoB,IAAX,CAAgBJ,GAAhB,EAAqBG,GAArB,MAA8B,CAArC;AACD;;;6BACQH,G,EAAKG,G,EAAK;AACjB,aAAO,KAAKnB,KAAL,CAAWoB,IAAX,CAAgBJ,GAAhB,EAAqBG,GAArB,MAA8B,CAArC;AACD;;;+BAEU;AACT,UAAI,CAAC,KAAKnB,KAAL,CAAWG,QAAZ,IAAwB,KAAKH,KAAL,CAAWxB,IAAX,CAAgBuB,OAA5C,EAAqD;AACnD6E,mBAAW,KAAKC,IAAL,CAAUnC,IAAV,CAAe,IAAf,CAAX,EAAiC,KAAK/B,KAAtC;AACD;AACF;;;2BAEM;AACL,UAAI,KAAKwD,IAAL,GAAY,EAAZ,IAAkB,KAAKI,IAAL,GAAY,EAAlC,EAAsC;AACpC,YAAI,KAAKI,UAAT,EAAqB;AACnB;AACA,cAAI,KAAKG,SAAL,CAAe,KAAKX,IAAL,GAAY,CAA3B,EAA8B,KAAKC,IAAnC,CAAJ,EAA8C;AAC5C,iBAAKW,UAAL,CAAgB,KAAK/E,KAAL,CAAWoB,IAA3B,EAAiC,CAAjC,EAAoC,KAAKoD,IAAzC;AACD,WAFD,MAEO,IAAI,KAAKM,SAAL,CAAe,KAAKP,IAAL,GAAY,CAA3B,EAA8B,KAAKC,IAAnC,CAAJ,EAA8C;AACnD,iBAAKO,UAAL,CAAgB,KAAK/E,KAAL,CAAWoB,IAA3B,EAAiC,CAAjC,EAAoC,KAAKgD,IAAzC;AACD,WAFM,MAEA;AACL,iBAAKL,QAAL,CAAc,KAAK/D,KAAL,CAAWoB,IAAzB;AACA,iBAAKL,QAAL;AACD;AACF,SAVD,MAUO;AACL,cAAI,KAAKiE,QAAL,CAAc,KAAKT,IAAL,GAAY,CAA1B,EAA6B,KAAKC,IAAlC,CAAJ,EAA6C;AAC3C;AACA,iBAAKS,gBAAL,CAAsB,KAAKjF,KAAL,CAAWoB,IAAjC;AACA,iBAAKL,QAAL;AACD,WAJD,MAIO;AACL,iBAAK0D,OAAL,GAAe,IAAf;AACD;AACF;AACF,OApBD,MAoBO;AACL,aAAKA,OAAL,GAAe,IAAf;AACA,aAAKC,QAAL,GAAgB,IAAhB;AACD;AACD,UAAI,KAAKD,OAAT,EAAkB;AAChB,aAAKxE,OAAL;AACD;AACF;;;+BAEUmB,I,EAAM8D,M,EAAQ/D,G,EAAK;AAC5B,WAAKuD,QAAL,GAAgB,IAAhB;AACA,UAAI1D,MAAM,aAAWkE,MAAX,CAAV;AACA,UAAI,KAAKF,QAAL,CAAchE,MAAM,CAApB,EAAuBG,GAAvB,KAA+BH,MAAM,EAAzC,EAA6C;AAC3CI,aAAKJ,MAAM,CAAX,EAAcG,GAAd,IAAqBC,KAAKJ,GAAL,EAAUG,GAAV,CAArB;AACAC,aAAKJ,GAAL,EAAUG,GAAV,IAAiB,CAAjB;AACA,qBAAW+D,MAAX;AACA,aAAKlF,KAAL,CAAWmF,IAAX;AACA,aAAKpE,QAAL;AACD,OAND,MAMO;AACL,aAAK0D,OAAL,GAAe,IAAf;AACD;AACF;;;8BAES;AACR,UAAI,KAAKA,OAAT,EAAkB;AAChB,aAAKzE,KAAL,CAAWC,OAAX;AACD;AACF;;;8BAESmB,I,EAAM;AACd,UAAI,KAAKoD,IAAL,GAAY,CAAZ,IAAiB,KAAKJ,IAAL,GAAY,CAA7B,IACC,KAAKY,QAAL,CAAc,KAAKT,IAAnB,EAAyB,KAAKC,IAAL,GAAY,CAArC,CADD,IAEC,CAAC,KAAKC,OAFP,IAEkB,CAAC,KAAKC,QAF5B,EAEsC;AAClC,aAAKC,UAAL,GAAkB,KAAKS,mBAAL,CAAyBhE,IAAzB,CAAlB,GAAmD,KAAKiE,iBAAL,CAAuBjE,IAAvB,CAAnD;;AAEAA,aAAK,KAAK+C,IAAV,EAAgB,KAAKC,IAArB,IAA6B,CAA7B;AACA,aAAKA,IAAL;AACA,aAAKI,IAAL;AACA,aAAKxE,KAAL,CAAWmF,IAAX;AACH;AACF;;;wCACmB/D,I,EAAM;AACxBA,WAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAAL,GAAY,CAA5B,IAAiCpD,KAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAArB,CAAjC;AACApD,WAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAArB,IAA6BpD,KAAK,KAAK+C,IAAV,EAAgB,KAAKC,IAArB,CAA7B;AACD;;;sCACiBhD,I,EAAM;AACtBA,WAAK,KAAK+C,IAAV,EAAgB,KAAKC,IAAL,GAAY,CAA5B,IAAiChD,KAAK,KAAK+C,IAAV,EAAgB,KAAKC,IAArB,CAAjC;AACAhD,WAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAAL,GAAY,CAA5B,IAAiCpD,KAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAArB,CAAjC;AACApD,WAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAArB,IAA6B,CAA7B;AACD;;;6BACQpD,I,EAAM;AACb,UAAI,KAAKoD,IAAL,GAAY,CAAZ,IAAiB,KAAKJ,IAAL,GAAY,CAA7B,IACC,KAAKY,QAAL,CAAc,KAAKT,IAAnB,EAAyB,KAAKH,IAAL,GAAY,CAArC,CADD,IAEC,CAAC,KAAKK,OAFP,IAEkB,CAAC,KAAKC,QAF5B,EAEsC;AAClC,aAAKC,UAAL,GAAkB,KAAKW,kBAAL,CAAwBlE,IAAxB,CAAlB,GAAkD,KAAKmE,gBAAL,CAAsBnE,IAAtB,CAAlD;;AAEA,aAAKgD,IAAL;AACA,aAAKI,IAAL;AACA,aAAKxE,KAAL,CAAWmF,IAAX;AACH;AACF;;;uCACkB/D,I,EAAM;AACvBA,WAAK,KAAK+C,IAAV,EAAgB,KAAKC,IAAL,GAAY,CAA5B,IAAiChD,KAAK,KAAK+C,IAAV,EAAgB,KAAKC,IAArB,CAAjC;AACAhD,WAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAAL,GAAW,CAA3B,IAAgCpD,KAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAArB,CAAhC;AACApD,WAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAArB,IAA6B,CAA7B;AACD;;;qCACgBpD,I,EAAM;AACrB,WAAKkE,kBAAL,CAAwBlE,IAAxB;AACAA,WAAK,KAAK+C,IAAV,EAAgB,KAAKC,IAArB,IAA6B,CAA7B;AACD;;;iCAEYhD,I,EAAM;AACjB,UAAI,CAAC,KAAKsD,QAAV,EAAoB;AAClB,YAAIc,OAAOpE,KAAK,KAAK+C,IAAV,EAAgB,KAAKC,IAArB,CAAX;AACAhD,aAAK,KAAK+C,IAAV,EAAgB,KAAKC,IAArB,IAA6BhD,KAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAArB,CAA7B;AACApD,aAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAArB,IAA6BgB,IAA7B;AACA,aAAKxF,KAAL,CAAWmF,IAAX;AACD;AACF;;;6BACQ/D,I,EAAM;AACb,UAAI,KAAKuD,UAAT,EAAqB;AACnB,aAAKc,kBAAL,CAAwBrE,IAAxB;AACD,OAFD,MAEO;AACL,aAAK6D,gBAAL,CAAsB7D,IAAtB;AACD;AACF;;;uCACkBA,I,EAAM;AACvB,UAAI,KAAK4D,QAAL,CAAc,KAAKb,IAAL,GAAY,CAA1B,EAA6B,KAAKC,IAAlC,KACG,KAAKY,QAAL,CAAc,KAAKT,IAAL,GAAY,CAA1B,EAA6B,KAAKC,IAAlC,CADH,IAEG,KAAKL,IAAL,GAAY,EAFf,IAEqB,KAAKI,IAAL,GAAY,EAFrC,EAEyC;AACvCnD,aAAK,KAAK+C,IAAL,GAAY,CAAjB,EAAoB,KAAKC,IAAzB,IAAiChD,KAAK,KAAK+C,IAAV,EAAgB,KAAKC,IAArB,CAAjC;AACAhD,aAAK,KAAKmD,IAAL,GAAY,CAAjB,EAAoB,KAAKC,IAAzB,IAAiCpD,KAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAArB,CAAjC;AACApD,aAAK,KAAK+C,IAAV,EAAgB,KAAKC,IAArB,IAA6B,CAA7B;AACAhD,aAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAArB,IAA6B,CAA7B;AACA,aAAKL,IAAL;AACA,aAAKI,IAAL;AACA,aAAKvE,KAAL,CAAWmF,IAAX;AACD;AACF;;;qCACgB/D,I,EAAM;AACrB,UAAI,KAAK4D,QAAL,CAAc,KAAKT,IAAL,GAAY,CAA1B,EAA6B,KAAKC,IAAlC,CAAJ,EAA6C;AAC3CpD,aAAK,KAAKmD,IAAL,GAAY,CAAjB,EAAoB,KAAKC,IAAzB,IAAiCpD,KAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAArB,CAAjC;AACApD,aAAK,KAAK+C,IAAL,GAAY,CAAjB,EAAoB,KAAKC,IAAzB,IAAiChD,KAAK,KAAK+C,IAAV,EAAgB,KAAKC,IAArB,CAAjC;AACAhD,aAAK,KAAK+C,IAAV,EAAgB,KAAKC,IAArB,IAA6B,CAA7B;AACA,aAAKD,IAAL;AACA,aAAKI,IAAL;AACA,aAAKvE,KAAL,CAAWmF,IAAX;AACD;AACF;;;2BAEM/D,I,EAAM;AACX,UAAMsE,KAAK,KAAKf,UAAL,GAAkB,CAAlB,GAAuB,CAAC,CAAnC;AACA,UAAMgB,KAAK,KAAKhB,UAAL,GAAmB,CAAC,CAApB,GAAyB,CAApC;AACA,UAAI,KAAKK,QAAL,CAAc,KAAKT,IAAL,GAAYmB,EAA1B,EAA8B,KAAKlB,IAAL,GAAYmB,EAA1C,KAAiD,CAAC,KAAKjB,QAA3D,EAAqE;AACnEtD,aAAK,KAAKmD,IAAL,GAAYmB,EAAjB,EAAqB,KAAKlB,IAAL,GAAWmB,EAAhC,IAAsCvE,KAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAArB,CAAtC;AACApD,aAAK,KAAKmD,IAAV,EAAgB,KAAKC,IAArB,IAA6B,CAA7B;AACA,aAAKD,IAAL,GAAY,KAAKA,IAAL,GAAYmB,EAAxB;AACA,aAAKlB,IAAL,GAAY,KAAKA,IAAL,GAAYmB,EAAxB;AACA,aAAK3F,KAAL,CAAWmF,IAAX;AACA,aAAKR,UAAL,GAAkB,CAAC,KAAKA,UAAxB;AACD,OAPD,MAOO;AACL,aAAKD,QAAL,GAAgB,IAAhB;AACD;AACF;;;;;;kBAGYR,G","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ce82294a88475722e6c1","export const newHighScore = (score, database) => {\n  database.ref().set({ highScore: score });\n};\n\nexport const getScore = (database, game) => {\n  database.ref().once('value').then((res) => {\n    const highScore = res.val().highScore;\n    game.highScore = highScore;\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/firebase.js","import Game from './game';\nimport { getScore } from './firebase';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const canvas = document.getElementById('board');\n  const ctx = canvas.getContext('2d');\n  const scoreElement = document.getElementById('score');\n\n  var config = {\n    apiKey: \"AIzaSyDqv9czEBfNMwWkeI_QGcC9O3IAgoKqoMQ\",\n    authDomain: \"pew-pew-9bc05.firebaseapp.com\",\n    databaseURL: \"https://pew-pew-9bc05.firebaseio.com\",\n    projectId: \"pew-pew-9bc05\",\n    storageBucket: \"\",\n    messagingSenderId: \"194751512644\"\n  };\n  firebase.initializeApp(config);\n  const database = firebase.database();\n\n  let game = new Game(canvas, ctx, database);\n\n  const start = document.getElementById('start');\n  start.addEventListener('click', () => {\n    start.className = \"hidden\";\n    game.playing = true;\n    game.board.dropPew();\n  });\n  const replay = document.getElementById('replay');\n  const gameOver = document.getElementById('game-over');\n  replay.addEventListener('click', () => {\n    game.board.reset();\n    game = new Game(canvas, ctx);\n    gameOver.className = \"hidden\";\n    game.playing = true;\n    game.board.dropPew();\n    easy.style.color = 'magenta';\n    medium.style.color = 'black';\n    hard.style.color = 'black';\n    document.getElementById('score').textContent = `Score: 0`;\n  });\n  \n  const easy = document.getElementById('easy');\n  const medium = document.getElementById('medium');\n  const hard = document.getElementById('hard');\n  easy.addEventListener('click', () => {\n    game.board.speed = 500;\n    if (game.board.fallingPew) {\n      game.board.fallingPew.speed = 500;\n    }\n    easy.style.color = 'magenta';\n    medium.style.color = 'black';\n    hard.style.color = 'black';\n  });\n  medium.addEventListener('click', () => {\n    game.board.speed = 200;\n    if (game.board.fallingPew) {\n      game.board.fallingPew.speed = 200;\n    }\n    medium.style.color = 'yellow';\n    easy.style.color = 'black';\n    hard.style.color = 'black';\n  });\n  hard.addEventListener('click', () => {\n    game.board.speed = 100;\n    if (game.board.fallingPew) {\n      game.board.fallingPew.speed = 100;\n    }\n    hard.style.color = 'cyan';\n    easy.style.color = 'black';\n    medium.style.color = 'black';\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/main.js","import Board from './board';\nimport { newHighScore, getScore } from './firebase';\n\nclass Game {\n  constructor(canvas, ctx, database) {\n    this.canvas = canvas;\n    this.ctx = ctx;\n    this.board = new Board(this, canvas, ctx);\n    this.playing = false;\n    this.database = database;\n    this.score = 0;\n    getScore(this.database, this);\n  }\n\n  pause() {\n    this.playing = !this.playing;\n    const paused = document.getElementById('paused');\n    paused.className = paused.className === \"showing\" ? \"hidden\" : \"showing\";\n    if (this.playing) {\n      this.board.fallingPew.callFall();\n    }\n  }\n\n  resetCheckBoard() {\n    for (let row = 0; row < this.board.checkBoard.length; row++) {\n      for (let col = 0; col < this.board.checkBoard[row].length; col++) {\n        this.board.checkBoard[row][col] = false;\n      }\n    }\n  }\n\n  searchAndDestroy(grid, checkBoard) {\n    let clearPos = [];\n\n    for (let row = 0; row < grid.length; row++) {\n      for (let col = 0; col < grid[row].length; col++) {\n        if (grid[row][col] !== 0) {\n          checkBoard[row][col] = true;\n          let currentPos = [[row,col]];\n          let toClear = this.search(grid, checkBoard, row, col, currentPos);\n          if (toClear.length >= 4) {\n            this.destroy(toClear);\n            this.checkSettle();\n            this.resetCheckBoard();\n            this.searchAndDestroy(grid, checkBoard);\n          } else {\n            this.resetCheckBoard();\n          }\n        }\n      }\n    }\n  }\n  search(grid, checkBoard, row, col, clearPos) {\n    let currentSpot = grid[row][col];\n    if (col > 0 && grid[row][col - 1] === currentSpot && !checkBoard[row][col - 1]) {\n      clearPos.push([row, col - 1]);\n      checkBoard[row][col - 1] = true;\n      this.search(grid, checkBoard, row, col -1, clearPos);\n    }\n    if (col < 9 && grid[row][col + 1] === currentSpot && !checkBoard[row][col + 1]) {\n      clearPos.push([row, col + 1]);\n      checkBoard[row][col + 1] = true;\n      this.search(grid, checkBoard, row, col + 1, clearPos);\n    }\n    if (row > 0 && grid[row - 1][col] === currentSpot && !checkBoard[row - 1][col]) {\n      clearPos.push([row - 1, col]);\n      checkBoard[row - 1][col] = true;\n      this.search(grid, checkBoard, row - 1, col, clearPos);\n    }\n    if (row < 14 && grid[row + 1][col] === currentSpot && !checkBoard[row + 1][col]) {\n      clearPos.push([row + 1, col]);\n      checkBoard[row + 1][col] = true;\n      this.search(grid, checkBoard, row + 1, col, clearPos);\n    }\n\n    return clearPos;\n  }\n  destroy(toClear) {\n    this.score += toClear.length * 100;\n    const score = document.getElementById('score');\n    score.textContent = `Score: ${this.score}`;\n    if (this.score >= this.highScore) {\n      const highScore = document.getElementById('high-score');\n      newHighScore(this.score, this.database);\n      this.highScore = this.score;\n      highScore.textContent = `High Score: ${this.highScore}`;\n    }\n    toClear.forEach((pos) => {\n      this.board.grid[pos[0]][pos[1]] = 0;\n    });\n  }\n  checkSettle() {\n    for (let row = 13; row >= 0; row--) {\n      for (let col = 9; col >= 0; col--) {\n        if (this.board.grid[row][col] !== 0 && this.board.grid[row + 1][col] === 0) {\n          this.settle(row, col);\n        }\n      }\n    }\n  }\n  settle(row, col) {\n    while (row < 14 && this.board.grid[row + 1][col] === 0) {\n      this.board.grid[row + 1][col] = this.board.grid[row][col];\n      this.board.grid[row][col] = 0;\n      row++;\n    }\n  }\n}\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","import Pew from './pew';\nimport { getScore } from './firebase';\n\nclass Board {\n  constructor(game, canvas, ctx) {\n    this.game = game;\n    this.canvas = canvas;\n    this.ctx = ctx;\n    this.grid = new Array();\n    this.checkBoard = new Array();\n    this.COLORS = ['#00FFFF', '#A605FF', '#FF7400', '#FFFF00'];\n    for (let x = 0; x < 15; x++) {\n      this.grid[x] = new Array();\n      this.checkBoard[x] = new Array();\n      for (let y = 0; y < 10; y++) {\n        this.grid[x][y] = 0;\n        this.checkBoard[x][y] = false;\n      }\n    }\n    this.pews = []; //can probably get rid of this.\n    this.fallingPew = this.pews.slice(-1)[0];\n    this.move = this.move.bind(this);\n    this.gameOver = false;\n    this.speed = 500;\n  }\n\n  reset() {\n    this.ctx.clearRect(0, 0 , this.canvas.width, this.canvas.height);\n  }\n  over() {\n    if (!this.grid[0].every(el => el === 0)) {\n      this.gameOver = true;\n      const gameOver = document.getElementById('game-over');\n      const finalScore = document.getElementById('final-score');\n      finalScore.textContent = `Score: ${this.game.score}`;\n    }\n  }\n  setHighScore() {\n    const highScore = document.getElementById('high-score');\n    getScore(this.game.database, this.game);\n    highScore.textContent = `High Score: ${this.game.highScore}`;\n  }\n  dropPew() {\n    this.over();\n    this.setHighScore();\n    if (!this.gameOver) {\n      this.game.searchAndDestroy(this.grid, this.checkBoard);\n      document.addEventListener(\"keydown\", this.move);\n      this.createPew();\n      this.fallingPew = this.pews.slice(-1)[0];\n      this.fallingPew.callFall();\n    }\n  }\n  createPew() {\n    this.pews.push(new Pew(this, this.speed));\n  }\n\n  draw() {\n    this.reset();\n    for (let row = 0; row < this.grid.length; row++) {\n      for (let col = 0; col < this.grid[row].length; col++) {\n        if (this.grid[row][col] !== 0) {\n          this.ctx.beginPath();\n          this.ctx.arc((((col + 1) * 30) - 15), (((row + 1) * 30) - 15), 15, 0, 2 * Math.PI);\n          this.ctx.fillStyle = this.COLORS[this.grid[row][col] - 1];\n          this.ctx.fill();\n        }\n      }\n    }\n  }\n  move(e) {\n    switch (e.keyCode) {\n      case 39: //right\n        this.fallingPew.moveRight(this.grid);\n        break;\n      case 37: //left\n        this.fallingPew.moveLeft(this.grid);\n        break;\n      case 38: //up - switch colors\n        this.fallingPew.switchColors(this.grid);\n        break;\n      case 40: //down\n        this.fallingPew.moveDown(this.grid);\n        break;\n      case 32: //spacebar - rotate\n        this.fallingPew.rotate(this.grid);\n        break;\n      case 13:\n        this.game.pause();\n        break;\n      default:\n        return;\n    }\n  }\n\n}\n\nexport default Board;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/board.js","class Pew {\n  constructor(board, speed) {\n    this.board = board;\n    this.row1 = 0;\n    this.col1 = Math.floor(Math.random() * 9);\n    this.row2 = 0;\n    this.col2 = this.col1 + 1;\n    this.board.grid[this.row1][this.col1] = Math.floor(Math.random() * 4) + 1;\n    this.board.grid[this.row2][this.col2] = Math.floor(Math.random() * 4) + 1;\n    this.stopped = false;\n    this.noSwitch = false;\n    this.horizontal = true;\n    this.speed = speed;\n  }\n\n  posFilled(row, col) {\n    return this.board.grid[row][col] !== 0;\n  }\n  posEmpty(row, col) {\n    return this.board.grid[row][col] === 0;\n  }\n\n  callFall() {\n    if (!this.board.gameOver && this.board.game.playing) {\n      setTimeout(this.fall.bind(this), this.speed);\n    }\n  }\n\n  fall() {\n    if (this.row1 < 14 && this.row2 < 14) {\n      if (this.horizontal) {\n        //this.fallHorizontal(this.board.grid) {}\n        if (this.posFilled(this.row1 + 1, this.col1)) {\n          this.singleFall(this.board.grid, 2, this.col2);\n        } else if (this.posFilled(this.row2 + 1, this.col2)) {\n          this.singleFall(this.board.grid, 1, this.col1);\n        } else {\n          this.moveDown(this.board.grid);\n          this.callFall();\n        }\n      } else {\n        if (this.posEmpty(this.row2 + 1, this.col2)) {\n          //this.fallVertical(this.board.grid) {}\n          this.moveDownVertical(this.board.grid);\n          this.callFall();\n        } else {\n          this.stopped = true;\n        }\n      }\n    } else {\n      this.stopped = true;\n      this.noSwitch = true;\n    }\n    if (this.stopped) {\n      this.dropPew();\n    }\n  }\n\n  singleFall(grid, rowNum, col) {\n    this.noSwitch = true;\n    let row = this[`row${rowNum}`];\n    if (this.posEmpty(row + 1, col) && row < 14) {\n      grid[row + 1][col] = grid[row][col];\n      grid[row][col] = 0;\n      this[`row${rowNum}`]++;\n      this.board.draw();\n      this.callFall();\n    } else {\n      this.stopped = true;\n    }\n  }\n\n  dropPew() {\n    if (this.stopped) {\n      this.board.dropPew();\n    }\n  }\n\n  moveRight(grid) {\n    if (this.col2 < 9 && this.col1 < 9\n      && this.posEmpty(this.row2, this.col2 + 1)\n      && !this.stopped && !this.noSwitch) {\n        this.horizontal ? this.moveRightHorizontal(grid) : this.moveRightVertical(grid);\n\n        grid[this.row1][this.col1] = 0;\n        this.col1++;\n        this.col2++;\n        this.board.draw();\n    }\n  }\n  moveRightHorizontal(grid) {\n    grid[this.row2][this.col2 + 1] = grid[this.row2][this.col2];\n    grid[this.row2][this.col2] = grid[this.row1][this.col1];\n  }\n  moveRightVertical(grid) {\n    grid[this.row1][this.col1 + 1] = grid[this.row1][this.col1];\n    grid[this.row2][this.col2 + 1] = grid[this.row2][this.col2];\n    grid[this.row2][this.col2] = 0;\n  }\n  moveLeft(grid) {\n    if (this.col2 > 0 && this.col1 > 0\n      && this.posEmpty(this.row2, this.col1 - 1)\n      && !this.stopped && !this.noSwitch) {\n        this.horizontal ? this.moveLeftHorizontal(grid) : this.moveLeftVertical(grid);\n\n        this.col1--;\n        this.col2--;\n        this.board.draw();\n    }\n  }\n  moveLeftHorizontal(grid) {\n    grid[this.row1][this.col1 - 1] = grid[this.row1][this.col1];\n    grid[this.row2][this.col2 -1] = grid[this.row2][this.col2];\n    grid[this.row2][this.col2] = 0;\n  }\n  moveLeftVertical(grid) {\n    this.moveLeftHorizontal(grid);\n    grid[this.row1][this.col1] = 0;\n  }\n\n  switchColors(grid) {\n    if (!this.noSwitch) {\n      let hold = grid[this.row1][this.col1];\n      grid[this.row1][this.col1] = grid[this.row2][this.col2];\n      grid[this.row2][this.col2] = hold;\n      this.board.draw();\n    }\n  }\n  moveDown(grid) {\n    if (this.horizontal) {\n      this.moveDownHorizontal(grid);\n    } else {\n      this.moveDownVertical(grid);\n    }\n  }\n  moveDownHorizontal(grid) {\n    if (this.posEmpty(this.row1 + 1, this.col1)\n        && this.posEmpty(this.row2 + 1, this.col2)\n        && this.row1 < 14 && this.row2 < 14) {\n      grid[this.row1 + 1][this.col1] = grid[this.row1][this.col1];\n      grid[this.row2 + 1][this.col2] = grid[this.row2][this.col2];\n      grid[this.row1][this.col1] = 0;\n      grid[this.row2][this.col2] = 0;\n      this.row1++;\n      this.row2++;\n      this.board.draw();\n    }\n  }\n  moveDownVertical(grid) {\n    if (this.posEmpty(this.row2 + 1, this.col2)) {\n      grid[this.row2 + 1][this.col2] = grid[this.row2][this.col2];\n      grid[this.row1 + 1][this.col1] = grid[this.row1][this.col1];\n      grid[this.row1][this.col1] = 0;\n      this.row1++;\n      this.row2++;\n      this.board.draw();\n    }\n  }\n\n  rotate(grid) {\n    const dx = this.horizontal ? 1 : (-1);\n    const dy = this.horizontal ? (-1) : 1;\n    if (this.posEmpty(this.row2 + dx, this.col2 + dy) && !this.noSwitch) {\n      grid[this.row2 + dx][this.col2 +dy] = grid[this.row2][this.col2];\n      grid[this.row2][this.col2] = 0;\n      this.row2 = this.row2 + dx;\n      this.col2 = this.col2 + dy;\n      this.board.draw();\n      this.horizontal = !this.horizontal;\n    } else {\n      this.noSwitch = true;\n    }\n  }\n}\n\nexport default Pew;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pew.js"],"sourceRoot":""}